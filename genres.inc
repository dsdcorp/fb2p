<?php

$GLOBALS['FB2_genres']=array(
        ''=>array('_Без жанра_','_Без жанра_', true),
        'biography'=>array('Биографии','Биография', true),
        'biogr_historical'=>array('Биографии исторических личностей','Биография', true),
        'biogr_leaders'=>array('Биографии лидеров','Биография', true),
        'biogr_professionals'=>array('Биографии профессионалов','Биография', true),
        'biogr_travel'=>array('Биографии путешественников','Биография', true),
        'biogr_sports'=>array('Биографии спортсменов','Биография', true),
        'biogr_arts'=>array('Люди искусства','Биография', true),
        'banking'=>array('Банковское дело','Деловая литература', true),
        'accounting'=>array('Бухучет, налогообложение, аудит','Деловая литература', true),
        'global_economy'=>array('Внешнеэкономическая деятельность','Деловая литература', true),
        'paper_work'=>array('Делопроизводство','Деловая литература', true),
        'design'=>array('Искусство и Дизайн','Деловая литература', true),
        'org_behavior'=>array('Корпоративная культура','Деловая литература', true),
        'personal_finance'=>array('Личные финансы','Деловая литература', true),
        'small_business'=>array('Малый бизнес','Деловая литература', true),
        'marketing'=>array('Маркетинг, PR, реклама','Деловая литература', true),
        'real_estate'=>array('Недвижимость','Деловая литература', true),
        'popular_business'=>array('О бизнесе популярно','Деловая литература', true),
        'industries'=>array('Отраслевые издания','Деловая литература', true),
        'job_hunting'=>array('Поиск работы, карьера','Деловая литература', true),
        'economics_ref'=>array('Справочники','Деловая литература', true),
        'management'=>array('Управление, подбор персонала','Деловая литература', true),
        'stock'=>array('Ценные бумаги, инвестиции','Деловая литература', true),
        'economics'=>array('Экономика','Деловая литература', true),
        'det_action'=>array('Боевик','Детективы и Триллеры', true),
        'detective'=>array('Детектив','Детективы и Триллеры', true),
        'det_irony'=>array('Иронический детектив','Детективы и Триллеры', true),
        'det_history'=>array('Исторический детектив','Детективы и Триллеры', true),
        'det_classic'=>array('Классический детектив','Детективы и Триллеры', true),
        'det_crime'=>array('Криминальный детектив','Детективы и Триллеры', true),
        'det_hard'=>array('Крутой детектив','Детективы и Триллеры', true),
        'det_maniac'=>array('Маньяки','Детективы и Триллеры', true),
        'det_political'=>array('Политический детектив','Детективы и Триллеры', true),
        'det_police'=>array('Полицейский детектив','Детективы и Триллеры', true),
        'thriller'=>array('Триллер','Детективы и Триллеры', true),
        'det_espionage'=>array('Шпионский детектив','Детективы и Триллеры', true),
        'children'=>array('Детская литература','Детское', true),
        'child_education'=>array('Детская образовательная литература','Детское', true),
        'child_prose'=>array('Детская проза','Детское', true),
        'child_sf'=>array('Детская фантастика','Детское', true),
        'child_det'=>array('Детские остросюжетные','Детское', true),
        'child_adv'=>array('Детские приключения','Детское', true),
        'child_verse'=>array('Детские стихи','Детское', true),
        'child_tale'=>array('Сказка','Детское', true),
        'nonf_biography'=>array('Биографии и Мемуары','Документальная литература', true),
        'nonfiction'=>array('Документальная литература','Документальная литература', true),
        'nonfiction_law'=>array('Закон','Документальная литература', true),
        'nonfiction_crime'=>array('Криминал','Документальная литература', true),
        'nonf_criticism'=>array('Критика','Документальная литература', true),
        'nonfiction_methodology'=>array('Методология','Документальная литература', true),
        'nonfiction_edu'=>array('Обучение','Документальная литература', true),
        'nonfiction_politics'=>array('Политика','Документальная литература', true),
        'nonfiction_gov'=>array('Правительство','Документальная литература', true),
        'nonf_publicism'=>array('Публицистика','Документальная литература', true),
        'nonfiction_social_sci'=>array('Социальные науки','Документальная литература', true),
        'nonfiction_philosophy'=>array('Философия','Документальная литература', true),
        'nonfiction_folklor'=>array('Фольклор','Документальная литература', true),
        'home_pets'=>array('Домашние животные','Домоводство (Дом и семья)', true),
        'home'=>array('Домоводство','Домоводство (Дом и семья)', true),
        'home_health'=>array('Здоровье','Домоводство (Дом и семья)', true),
        'home_cooking'=>array('Кулинария','Домоводство (Дом и семья)', true),
        'home_entertain'=>array('Развлечения','Домоводство (Дом и семья)', true),
        'home_garden'=>array('Сад и огород','Домоводство (Дом и семья)', true),
        'home_diy'=>array('Сделай сам','Домоводство (Дом и семья)', true),
        'home_sport'=>array('Спорт','Домоводство (Дом и семья)', true),
        'home_crafts'=>array('Хобби и ремесла','Домоводство (Дом и семья)', true),
        'home_sex'=>array('Эротика, Секс','Домоводство (Дом и семья)', true),
        'health_alt_medicine'=>array('Альтернативная медицина','Здоровье', true),
        'health_women'=>array('Женское здоровье','Здоровье', true),
        'health_nutrition'=>array('Здоровое питание','Здоровье', true),
        'health'=>array('Здоровье','Здоровье', true),
        'health_psy'=>array('Здоровье и психология','Здоровье', true),
        'health_rel'=>array('Здоровье и религия','Здоровье', true),
        'health_men'=>array('Мужское здоровье','Здоровье', true),
        'health_first_aid'=>array('Первая помощь','Здоровье', true),
        'health_self_help'=>array('Самолечение','Здоровье', true),
        'health_sex'=>array('Сексопатология','Здоровье', true),
        'histor_military'=>array('Военная история','История', true),
        'history_ancient'=>array('Древняя история','История', true),
        'history_australia'=>array('История Австралии','История', true),
        'history_asia'=>array('История Азии','История', true),
        'history_europe'=>array('История Европы','История', true),
        'history_russia'=>array('История России','История', true),
        'history_usa'=>array('История США','История', true),
        'history_military_science'=>array('История военной науки','История', true),
        'history_middle_east'=>array('История среднего востока','История', true),
        'history_world'=>array('Мировая история','История', true),
        'comp_db'=>array('Базы данных','Компьютеры и Интернет', true),
        'comp_www'=>array('Интернет','Компьютеры и Интернет', true),
        'comp_hard'=>array('Компьютерное \'железо\' (аппаратное обеспечение)','Компьютеры и Интернет', true),
        'comp_osnet'=>array('ОС и Сети','Компьютеры и Интернет', true),
        'computers'=>array('Околокомпьютерная литература','Компьютеры и Интернет', true),
        'comp_programming'=>array('Программирование','Компьютеры и Интернет', true),
        'comp_soft'=>array('Программы','Компьютеры и Интернет', true),
        'comp_dsp'=>array('Цифровая обработка сигналов','Компьютеры и Интернет', true),
        'love_history'=>array('Исторические любовные романы','Любовные романы', true),
        'love_short'=>array('Короткие любовные романы','Любовные романы', true),
        'love_sf'=>array('Любовно-фантастические романы','Любовные романы', true),
        'love'=>array('О любви','Любовные романы', true),
        'love_detective'=>array('Остросюжетные любовные романы','Любовные романы', true),
        'love_contemporary'=>array('Современные любовные романы','Любовные романы', true),
        'love_erotica'=>array('Эротика','Любовные романы', true),
        'sci_medicine_alternative'=>array('Альтернативная медицина (чему не учат в мединститутах)','Наука, Образование', true),
        'sci_anachem'=>array('Аналитическая химия','Наука, Образование', true),
        'science_archaeology'=>array('Археология','Наука, Образование', true),
        'sci_cosmos'=>array('Астрономия и Космос','Наука, Образование', true),
        'sci_biology'=>array('Биология','Наука, Образование', true),
        'sci_biophys'=>array('Биофизика','Наука, Образование', true),
        'sci_biochem'=>array('Биохимия','Наука, Образование', true),
        'sci_geo'=>array('Геология и география','Наука, Образование', true),
        'sci_state'=>array('Государство и право','Наука, Образование', true),
        'sci_business'=>array('Деловая литература','Наука, Образование', true),
        'sci_history'=>array('История','Наука, Образование', true),
        'sci_culture'=>array('Культурология','Наука, Образование', true),
        'sci_philology'=>array('Литературоведение','Наука, Образование', true),
        'sci_math'=>array('Математика','Наука, Образование', true),
        'sci_medicine'=>array('Медицина','Наука, Образование', true),
        'sci_metal'=>array('Металлургия','Наука, Образование', true),
        'science'=>array('Научная литература','Наука, Образование', true),
        'sci_orgchem'=>array('Органическая химия','Наука, Образование', true),
        'sci_politics'=>array('Политика','Наука, Образование', true),
        'sci_psychology'=>array('Психология','Наука, Образование', true),
        'sci_radio'=>array('Радиоэлектроника','Наука, Образование', true),
        'sci_religion'=>array('Религиоведение','Наука, Образование', true),
        'sci_build'=>array('Строительство и сопромат','Наука, Образование', true),
        'sci_tech'=>array('Технические науки','Наука, Образование', true),
        'sci_transport'=>array('Транспорт и авиация','Наука, Образование', true),
        'sci_phys'=>array('Физика','Наука, Образование', true),
        'sci_physchem'=>array('Физическая химия','Наука, Образование', true),
        'sci_philosophy'=>array('Философия','Наука, Образование', true),
        'sci_chem'=>array('Химия','Наука, Образование', true),
        'sci_economy'=>array('Экономика','Наука, Образование', true),
        'sci_juris'=>array('Юриспруденция','Наука, Образование', true),
        'sci_linguistic'=>array('Языкознание','Наука, Образование', true),
        'teens_health'=>array('Здоровье','Подростковая литература', true),
        'teens_history'=>array('История','Подростковая литература', true),
        'teens_literature'=>array('Подростковая литература','Подростковая литература', true),
        'teens_social'=>array('Социальная','Подростковая литература', true),
        'teens_mysteries'=>array('Тайны','Подростковая литература', true),
        'teens_sf'=>array('Фантастика','Подростковая литература', true),
        'dramaturgy'=>array('Драматургия','Поэзия, Драматургия', true),
        'poetry'=>array('Поэзия','Поэзия, Драматургия', true),
        'adv_western'=>array('Вестерн','Приключения', true),
        'adv_history'=>array('Исторические приключения','Приключения', true),
        'adv_maritime'=>array('Морские приключения','Приключения', true),
        'adventure'=>array('Приключения','Приключения', true),
        'adv_indian'=>array('Приключения про индейцев','Приключения', true),
        'adv_animal'=>array('Природа и животные','Приключения', true),
        'adv_geo'=>array('Путешествия и география','Приключения', true),
        'prose_history'=>array('Историческая проза','Проза', true),
        'prose_classic'=>array('Классическая проза','Проза', true),
        'prose_counter'=>array('Контркультура','Проза', true),
        'prose_military'=>array('О войне','Проза', true),
        'prose'=>array('Проза','Проза', true),
        'prose_rus_classic'=>array('Русская классическая проза','Проза', true),
        'prose_su_classics'=>array('Советская классическая проза','Проза', true),
        'prose_contemporary'=>array('Современная проза','Проза', true),
        '105'=>array('','Прочее', true),
        'architecture'=>array('','Прочее', true),
        'art'=>array('','Прочее', true),
        'artists'=>array('','Прочее', true),
        'entert_humor'=>array('','Прочее', true),
        'entert_movies'=>array('','Прочее', true),
        'entert_tv'=>array('','Прочее', true),
        'entertainment'=>array('','Прочее', true),
        'fictionbook.cs'=>array('','Прочее', true),
        'gaming'=>array('','Прочее', true),
        'mystery'=>array('','Прочее', true),
        'outdoors_conservation'=>array('','Прочее', true),
        'outdoors_fauna'=>array('','Прочее', true),
        'outdoors_hunt_fish'=>array('','Прочее', true),
        'outdoors_nature_writing'=>array('','Прочее', true),
        'outdoors_outdoor_recreation'=>array('','Прочее', true),
        'outdoors_survive'=>array('','Прочее', true),
        'outdoors_travel'=>array('','Прочее', true),
        'people'=>array('','Прочее', true),
        'performance'=>array('','Прочее', true),
        'professional_edu'=>array('','Прочее', true),
        'professional_law'=>array('','Прочее', true),
        'sport'=>array('','Прочее', true),
        'women_single'=>array('','Прочее', true),
        'other'=>array('Неотсортированное','Прочее', true),
        'notes'=>array('Партитуры','Прочее', true),
        'travel_guidebook_series'=>array('Путеводители','Путешествия', true),
        'travel'=>array('Путешествия','Путешествия', true),
        'travel_polar'=>array('Путешествия на полюсы','Путешествия', true),
        'travel_asia'=>array('Путешествия по Азии','Путешествия', true),
        'travel_africa'=>array('Путешествия по Африке','Путешествия', true),
        'travel_europe'=>array('Путешествия по Европе','Путешествия', true),
        'travel_lat_am'=>array('Путешествия по Латинской Америке','Путешествия', true),
        'travel_ex_ussr'=>array('Путешествия по СНГ','Путешествия', true),
        'travel_spec'=>array('Специфические путешествия','Путешествия', true),
        'religion_budda'=>array('Буддизм','Религия и духовность', true),
        'religion_hinduism'=>array('Индуизм','Религия и духовность', true),
        'religion_occult'=>array('Оккультизм','Религия и духовность', true),
        'religion'=>array('Религиозная литература','Религия и духовность', true),
        'religion_rel'=>array('Религия','Религия и духовность', true),
        'religion_self'=>array('Самосовершенствование','Религия и духовность', true),
        'religion_spirituality'=>array('Спиритизм','Религия и духовность', true),
        'religion_esoterics'=>array('Эзотерика','Религия и духовность', true),
        'romance_historical'=>array('История','Романтика', true),
        'romance_multicultural'=>array('Мультикультура','Романтика', true),
        'romance'=>array('Романтика','Романтика', true),
        'romance_romantic_suspense'=>array('Романтическая неизвестность','Романтика', true),
        'romance_series'=>array('Сериалы','Романтика', true),
        'romance_contemporary'=>array('Современная','Романтика', true),
        'romance_sf'=>array('Фантастика','Романтика', true),
        'romance_fantasy'=>array('Фэнтези','Романтика', true),
        'family_pregnancy'=>array('Беременность','Семья', true),
        'family_health'=>array('Здоровье','Семья', true),
        'family_relations'=>array('Отношения','Семья', true),
        'family_parenting'=>array('Родители','Семья', true),
        'family'=>array('Семья','Семья', true),
        'ref_guide'=>array('Руководства','Справочная литература', true),
        'ref_dict'=>array('Словари','Справочная литература', true),
        'reference'=>array('Справочная литература','Справочная литература', true),
        'ref_ref'=>array('Справочники','Справочная литература', true),
        'ref_encyc'=>array('Энциклопедии','Справочная литература', true),
        'antique_ant'=>array('Античная литература','Старинное', true),
        'antique_east'=>array('Древневосточная литература','Старинное', true),
        'antique_russian'=>array('Древнерусская литература','Старинное', true),
        'antique_european'=>array('Европейская старинная литература','Старинное', true),
        'antique_myths'=>array('Мифы. Легенды. Эпос','Старинное', true),
        'antique'=>array('Старинная литература','Старинное', true),
        'horror_vampires'=>array('Вампиры','Ужасы', true),
        'horror_occult'=>array('Оккультизм','Ужасы', true),
        'horror_usa'=>array('США','Ужасы', true),
        'horror'=>array('Ужасы','Ужасы', true),
        'horror_fantasy'=>array('Фэнтези','Ужасы', true),
        'sf_history'=>array('Альтернативная история','Фантастика', true),
        'sf_action'=>array('Боевая фантастика','Фантастика', true),
        'sf_heroic'=>array('Героическая фантастика','Фантастика', true),
        'sf_fantasy_city'=>array('Городское фэнтези','Фантастика', true),
        'sf_detective'=>array('Детективная фантастика','Фантастика', true),
        'sf_cyberpunk'=>array('Киберпанк','Фантастика', true),
        'sf_space'=>array('Космическая фантастика','Фантастика', true),
        'sf'=>array('Научная Фантастика','Фантастика', true),
        'sf_postapocalyptic'=>array('Постапокалипсис','Фантастика', true),
        'sf_social'=>array('Социально-психологическая фантастика','Фантастика', true),
        'sf_horror'=>array('Ужасы и Мистика','Фантастика', true),
        'sf_fantasy'=>array('Фэнтези','Фантастика', true),
        'sf_fantasy_humor'=>array('Фэнтези юмор','Фантастика', true),
        'sf_epic'=>array('Эпическая фантастика','Фантастика', true),
        'sf_humor'=>array('Юмористическая фантастика','Фантастика', true),
        'literature_antology'=>array('Антология','Художественная литература', true),
        'literature_british'=>array('Британия','Художественная литература', true),
        'literature_western'=>array('Вестерн','Художественная литература', true),
        'literature_war'=>array('Война','Художественная литература', true),
        'literature_fairy'=>array('Волшебство','Художественная литература', true),
        'literature_gay'=>array('Геи','Художественная литература', true),
        'literature_drama'=>array('Драма','Художественная литература', true),
        'literature_women'=>array('Женская','Художественная литература', true),
        'literature_history'=>array('История','Художественная литература', true),
        'literature_classics'=>array('Классическая литература','Художественная литература', true),
        'literature_critic'=>array('Критика','Художественная литература', true),
        'literature_world'=>array('Мировая литература','Художественная литература', true),
        'literature_sea'=>array('Море','Художественная литература', true),
        'literature_men_advent'=>array('Мужские приключения','Художественная литература', true),
        'literature_political'=>array('Политика','Художественная литература', true),
        'literature_poetry'=>array('Поэзия','Художественная литература', true),
        'literature_adv'=>array('Приключения','Художественная литература', true),
        'literature_short'=>array('Рассказы','Художественная литература', true),
        'literature_religion'=>array('Религия','Художественная литература', true),
        'literature_rus_classsic'=>array('Русская классическая литература','Художественная литература', true),
        'literature_usa'=>array('США','Художественная литература', true),
        'literature_su_classics'=>array('Советская классическая литература','Художественная литература', true),
        'literature'=>array('Художественная литература','Художественная литература', true),
        'literature_erotica'=>array('Эротика','Художественная литература', true),
        'literature_essay'=>array('Эссе','Художественная литература', true),
        'humor_anecdote'=>array('Анекдоты','Юмор', true),
        'humor'=>array('Юмор','Юмор', true),
        'humor_prose'=>array('Юмористическая проза','Юмор', true),
        'humor_verse'=>array('Юмористические стихи','Юмор', true),
        'biz_accounting'=>array('accounting','r', true),
        'biz_beogr'=>array('popular_business','r', true),
        'biz_life'=>array('popular_business','r', true),
        'business'=>array('popular_business','r', true),
        'biz_management'=>array('management','r', true),
        'biz_economics'=>array('economics','r', true),
        'иронический детектив'=>array('det_irony','r', true),
        'thriller_police'=>array('det_police','r', true),
        'thriller_mystery'=>array('thriller','r', true),
        'шпионский детектив'=>array('det_espionage','r', true),
        'child_4'=>array('children','r', true),
        'child_9'=>array('children','r', true),
        'child_animals'=>array('children','r', true),
        'child_characters'=>array('children','r', true),
        'child_history'=>array('children','r', true),
        'child_people'=>array('children','r', true),
        'детская литература'=>array('children','r', true),
        'сказка'=>array('child_tale','r', true),
        'nonfiction_spec_group'=>array('nonfiction','r', true),
        'nonfiction_true_accounts'=>array('nonfiction','r', true),
        'публицистика'=>array('nonf_publicism','r', true),
        'cooking'=>array('home_cooking','r', true),
        'интернет'=>array('comp_www','r', true),
        'science_biolog'=>array('sci_biology','r', true),
        'science_earth'=>array('sci_geo','r', true),
        'sci_history история'=>array('sci_history','r', true),
        'история'=>array('sci_history','r', true),
        'science_medicine'=>array('sci_medicine','r', true),
        'science_edu'=>array('science','r', true),
        'science_psy'=>array('sci_psychology','r', true),
        'психология'=>array('sci_psychology','r', true),
        'science_history_philosophy'=>array('sci_philosophy','r', true),
        'языкознание'=>array('sci_linguistic','r', true),
        'adv_history_avant'=>array('adv_history','r', true),
        'приключения'=>array('adventure','r', true),
        'историческая проза'=>array('prose_history','r', true),
        'proce'=>array('prose','r', true),
        'prose_root'=>array('prose','r', true),
        'prose_rus_classics'=>array('prose_rus_classic','r', true),
        'prose_su_classic'=>array('prose_su_classics','r', true),
        'rel_boddizm'=>array('religion_budda','r', true),
        'religion_buddhism'=>array('religion_budda','r', true),
        'chris_edu'=>array('religion','r', true),
        'chris_fiction'=>array('religion','r', true),
        'chris_orthodoxy'=>array('religion','r', true),
        'chris_pravoslavie'=>array('religion','r', true),
        'religion_east'=>array('religion','r', true),
        'religion_fiction'=>array('religion','r', true),
        'religion_religious_studies'=>array('religion','r', true),
        'религиозная литература'=>array('religion','r', true),
        'ref_edu'=>array('ref_guide','r', true),
        'ref_encyclopedia'=>array('ref_encyc','r', true),
        'fantasy_alt_hist'=>array('sf_history','r', true),
        'sf_history_avant'=>array('sf_history','r', true),
        'sf_writing'=>array('sf_history','r', true),
        'боевая фантастика'=>array('sf_action','r', true),
        'городское фэнтези'=>array('sf_fantasy_city','r', true),
        'sf_cyber_punk'=>array('sf_cyberpunk','r', true),
        'космическая фантастика'=>array('sf_space','r', true),
        'научная фантастика'=>array('sf','r', true),
        'фентези'=>array('sf_fantasy','r', true),
        'фэнтези'=>array('sf_fantasy','r', true),
        'literature_books'=>array('literature','r', true),
        'фэнтези юмор'=>array('sf_fantasy_humor','r', true),
);

function genres_safe_name($name) {
   $name=trim($name);
   $name=trim(preg_replace("/[^\x20A-Za-zА-Яа-яёЁ0-9\,\.\!\@\#\$\%\^\&\(\)\+\_\-\[\]\{\}\=\~\`\'\;\№\«\»]/", ' ', $name));
   $name=trim(preg_replace("/[\x20]+/", ' ', $name));
   $name=trim(preg_replace("/[\.]+$/", '', $name));
   return $name;
}

function genres_get($gtag, $no_try_safe=false) {
  $res=false;
  if (array_key_exists($gtag, $GLOBALS['FB2_genres'])) {
      $res=$GLOBALS['FB2_genres'][$gtag];
      if ($res[1]=='r') return genres_get($res[0]);
  }
  if (!$res && !$no_try_safe) return genres_get(genres_safe_name($gtag, true), true);
  return $res;
}

?>
